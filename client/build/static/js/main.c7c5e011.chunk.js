(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),r=s(19),a=s.n(r),l=(s(26),s(27),s(3)),i=s.n(l),j=s(6),o=s(4),d=s(2),u=s(0),h=Object(c.createContext)();function b(e){var t=Object(c.useState)(!1),s=Object(o.a)(t,2),n=s[0],r=s[1];return Object(u.jsx)("div",{children:Object(u.jsx)(h.Provider,{value:[n,r],children:e.children})})}var m=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),s=t[0],n=t[1],r=Object(c.useContext)(h),a=Object(o.a)(r,2),l=a[0],b=a[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,console.log(s),s.success?b(s.currentUser):b(" ");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=Object(d.f)(),x=Object(c.useState)(""),p=Object(o.a)(x,2),O=p[0],f=p[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),N=v[0],y=v[1],S=function(){var e=Object(j.a)(i.a.mark((function e(t){var s,c,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={username:O,password:N},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},e.next=5,fetch("/signup",c);case 5:return r=e.sent,e.next=8,r.json();case 8:a=e.sent,console.log(a),a.success?m.push("/"):n(a.error);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:l?Object(u.jsxs)("div",{className:"container-sm bg-dark",children:[Object(u.jsxs)("nav",{className:"d-flex p-1 align-items-center",children:[Object(u.jsx)("a",{href:"/",className:"p-3",children:"Home"}),Object(u.jsx)("a",{href:"/secretpage",className:"p-3",children:"SecretPage"})," "===l?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("a",{href:"/login",className:"p-3",children:"Log In"}),Object(u.jsx)("a",{href:"/signup",className:"p-3",children:"Sign Up"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("a",{className:"p-3",href:"/add",children:["Hello, ",l]}),Object(u.jsx)("a",{href:"/logout",className:"p-3",children:"Log Out"})]})]}),Object(u.jsx)("div",{className:"mt-5 text-light",children:Object(u.jsx)("h2",{children:"SIGN UP"})}),Object(u.jsxs)("form",{className:"mt-4",onSubmit:S,children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("label",{className:"text-light",children:"Email address"}),Object(u.jsx)("input",{type:"text",placeholder:"Enter username",className:"p-2 rounded border-0 form-control",onChange:function(e){f(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mt-3 d-flex flex-column mb-4",children:[Object(u.jsx)("label",{className:"text-light",children:"Password"}),Object(u.jsx)("input",{type:"password",placeholder:"Password",className:"p-2 rounded border-0 form-control",onChange:function(e){y(e.target.value)},required:!0})]}),Object(u.jsx)("div",{className:"mt-3 d-flex flex-column mb-4",children:Object(u.jsx)("small",{className:"text-danger mt-1",children:s})}),Object(u.jsx)("button",{variant:"primary",type:"submit",className:"bg-primary border-0 p-2 px-3 rounded",children:"Submit"})]})]}):Object(u.jsx)("div",{className:"d-flex text-light justify-content-center align-items-center vh-100",children:Object(u.jsx)("div",{className:"spinner-border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden"})})})})};var x=function(){var e=Object(c.useContext)(h),t=Object(o.a)(e,2),s=t[0],n=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,console.log(s),s.success?n(s.currentUser):n(" ");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsx)(u.Fragment,{children:s?Object(u.jsxs)("div",{className:"container-sm bg-dark",children:[Object(u.jsxs)("nav",{className:"d-flex p-1 align-items-center",children:[Object(u.jsx)("a",{href:"/",className:"p-3",children:"Home"}),Object(u.jsx)("a",{href:"/secretpage",className:"p-3",children:"SecretPage"})," "===s?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("a",{href:"/login",className:"p-3",children:"Log In"}),Object(u.jsx)("a",{href:"/signup",className:"p-3",children:"Sign Up"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("a",{className:"p-3",href:"/add",children:["Hello, ",s]}),Object(u.jsx)("a",{href:"/logout",className:"p-3",children:"Log Out"})]})]}),Object(u.jsxs)("div",{className:"p-5 mt-5 align-items-center text-primary bg-light rounded",children:[Object(u.jsx)("h1",{children:"Hello, world!"}),Object(u.jsx)("p",{children:"This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information."})]})]}):Object(u.jsx)("div",{className:"d-flex text-light justify-content-center align-items-center vh-100",children:Object(u.jsx)("div",{className:"spinner-border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden"})})})})};var p=function(){var e=Object(c.useContext)(h),t=Object(o.a)(e,2),s=t[0],n=t[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,console.log(s),s.success?n(s.currentUser):n(" ");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var r=Object(d.f)(),a=Object(c.useState)(""),l=Object(o.a)(a,2),b=l[0],m=l[1],x=Object(c.useState)(""),p=Object(o.a)(x,2),O=p[0],f=p[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),N=v[0],y=v[1],S=function(){var e=Object(j.a)(i.a.mark((function e(t){var s,c,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={username:b,password:O},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},e.next=5,fetch("/login",c);case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,console.log(a),a.success?r.push("/"):y(a.error);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:s?Object(u.jsxs)("div",{className:"container-sm bg-dark",children:[Object(u.jsxs)("nav",{className:"d-flex p-1 align-items-center",children:[Object(u.jsx)("a",{href:"/",className:"p-3",children:"Home"}),Object(u.jsx)("a",{href:"/secretpage",className:"p-3",children:"SecretPage"})," "===s?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("a",{href:"/login",className:"p-3",children:"Log In"}),Object(u.jsx)("a",{href:"/signup",className:"p-3",children:"Sign Up"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("a",{className:"p-3",href:"/add",children:["Hello, ",s]}),Object(u.jsx)("a",{href:"/logout",className:"p-3",children:"Log Out"})]})]}),Object(u.jsx)("div",{className:"mt-5 text-light",children:Object(u.jsx)("h2",{children:"LOG IN"})}),Object(u.jsxs)("form",{className:"mt-4",onSubmit:S,children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("label",{className:"text-light",children:"Email address"}),Object(u.jsx)("input",{type:"text",placeholder:"Enter username",className:"p-2 rounded border-0 form-control",onChange:function(e){m(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mt-3 d-flex flex-column mb-4",children:[Object(u.jsx)("label",{className:"text-light",children:"Password"}),Object(u.jsx)("input",{type:"password",placeholder:"Password",className:"p-2 rounded border-0 form-control",onChange:function(e){f(e.target.value)}})]}),Object(u.jsx)("div",{className:"mt-3 d-flex flex-column mb-4",children:Object(u.jsx)("small",{className:"text-danger mt-1",children:N})}),Object(u.jsx)("button",{variant:"primary",type:"submit",className:"bg-primary border-0 p-2 px-3 rounded",children:"Submit"})]})]}):Object(u.jsx)("div",{className:"d-flex text-light justify-content-center align-items-center vh-100",children:Object(u.jsx)("div",{className:"spinner-border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden"})})})})};var O=function(){var e=Object(c.useContext)(h),t=Object(o.a)(e,2),s=t[0],n=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,console.log(s),s.success?n(s.currentUser):n(" ");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsx)(u.Fragment,{children:s?Object(u.jsxs)("div",{className:"container-sm bg-dark",children:[Object(u.jsxs)("nav",{className:"d-flex p-1 align-items-center",children:[Object(u.jsx)("a",{href:"/",className:"p-3",children:"Home"}),Object(u.jsx)("a",{href:"/secretpage",className:"p-3",children:"SecretPage"})," "===s?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("a",{href:"/login",className:"p-3",children:"Log In"}),Object(u.jsx)("a",{href:"/signup",className:"p-3",children:"Sign Up"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("a",{className:"p-3",href:"/add",children:["Hello, ",s]}),Object(u.jsx)("a",{href:"/logout",className:"p-3",children:"Log Out"})]})]}),Object(u.jsxs)("div",{className:"p-5 mt-5 align-items-center text-primary bg-light rounded",children:[Object(u.jsx)("h1",{children:"Secret Page"}),Object(u.jsx)("p",{children:"Only authenticated Users can view this content."})]})]}):Object(u.jsx)("div",{className:"d-flex text-light justify-content-center align-items-center vh-100",children:Object(u.jsx)("div",{className:"spinner-border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden"})})})})},f=s(12),g=s(21),v=s.n(g);var N=function(){var e=Object(c.useContext)(h),t=Object(o.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)(""),a=Object(o.a)(r,2),l=a[0],d=a[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,console.log(s),s.success?n(s.currentUser):n(" ");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){var e=v.a.get("XSRF-TOKEN");d(e)}),[]);var b=function(){var e=Object(j.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"prova testo del post aggiunto",_csrf:l})});case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,console.log(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:s?Object(u.jsxs)("div",{className:"container-sm bg-dark",children:[Object(u.jsxs)("nav",{className:"d-flex p-1 align-items-center",children:[Object(u.jsx)("a",{href:"/",className:"p-3",children:"Home"}),Object(u.jsx)("a",{href:"/secretpage",className:"p-3",children:"SecretPage"})," "===s?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("a",{href:"/login",className:"p-3",children:"Log In"}),Object(u.jsx)("a",{href:"/signup",className:"p-3",children:"Sign Up"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("a",{className:"p-3",href:"/add",children:["Hello, ",s]}),Object(u.jsx)("a",{href:"/logout",className:"p-3",children:"Log Out"})]})]}),Object(u.jsxs)("div",{className:"p-5 mt-5 align-items-center text-primary bg-light rounded",children:[Object(u.jsx)("h1",{children:"Press button to add a post"}),Object(u.jsx)("button",{className:"mt-3 bg-primary rounded p-2 border-0 text-light",onClick:b,children:"ADD POST"})]})]}):Object(u.jsx)("div",{className:"d-flex text-light justify-content-center align-items-center vh-100",children:Object(u.jsx)("div",{className:"spinner-border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden"})})})})};var y=function(){return Object(u.jsx)("div",{className:"bg-dark vh-100",children:Object(u.jsx)(f.a,{children:Object(u.jsx)(b,{children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{path:"/",exact:!0,component:x}),Object(u.jsx)(d.a,{path:"/signup",exact:!0,component:m}),Object(u.jsx)(d.a,{path:"/login",component:p}),Object(u.jsx)(d.a,{path:"/secretpage",component:O}),Object(u.jsx)(d.a,{path:"/add",component:N})]})})})})},S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,36)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;s(e),c(e),n(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root")),S()}},[[35,1,2]]]);
//# sourceMappingURL=main.c7c5e011.chunk.js.map